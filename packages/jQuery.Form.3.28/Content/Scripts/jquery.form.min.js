(function(n){"use strict";function r(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),n(this).ajaxSubmit(i))}function u(t){var r=t.target,u=n(r),f,i,e;if(!u.is("[type=submit],[type=image]")){if(f=u.closest("[type=submit]"),f.length===0)return;r=f[0]}i=this,i.clk=r,r.type=="image"&&(t.offsetX!==undefined?(i.clk_x=t.offsetX,i.clk_y=t.offsetY):typeof n.fn.offset=="function"?(e=u.offset(),i.clk_x=t.pageX-e.left,i.clk_y=t.pageY-e.top):(i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop)),setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function t(){if(n.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var i={};i.fileapi=n("<input type='file'/>").get(0).files!==undefined,i.formdata=window.FormData!==undefined,n.fn.ajaxSubmit=function(r){function ut(t){for(var r=n.param(t).split("&"),e=r.length,f=[],u,i=0;i<e;i++)r[i]=r[i].replace(/\+/g," "),u=r[i].split("="),f.push([decodeURIComponent(u[0]),decodeURIComponent(u[1])]);return f}function ft(t){for(var e=new FormData,f,u,o,i=0;i<t.length;i++)e.append(t[i].name,t[i].value);if(r.extraData)for(f=ut(r.extraData),i=0;i<f.length;i++)f[i]&&e.append(f[i][0],f[i][1]);return r.data=null,u=n.extend(!0,{},n.ajaxSettings,r,{contentType:!1,processData:!1,cache:!1,type:s||"POST"}),r.uploadProgress&&(u.xhr=function(){var n=jQuery.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(n){var t=0,i=n.loaded||n.position,u=n.total;n.lengthComputable&&(t=Math.ceil(i/u*100)),r.uploadProgress(n,i,u,t)},!1),n}),u.data=null,o=u.beforeSend,u.beforeSend=function(n,t){t.data=e,o&&o.call(this,n,t)},n.ajax(u)}function it(i){function et(n){return n.contentWindow?n.contentWindow.document:n.contentDocument?n.contentDocument:n.document}function ot(){function h(){try{var n=et(l).readyState;t("state = "+n),n&&n.toLowerCase()=="uninitialized"&&setTimeout(h,50)}catch(i){t("Server abort: ",i," (",i.name,")"),w(nt),d&&clearTimeout(d),d=undefined}}var e=u.attr("target"),o=u.attr("action"),r,i,v;c.setAttribute("target",k),s||c.setAttribute("method","POST"),o!=f.url&&c.setAttribute("action",f.url),f.skipEncodingOverride||s&&!/post/i.test(s)||u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),f.timeout&&(d=setTimeout(function(){it=!0,w(rt)},f.timeout)),r=[];try{if(f.extraData)for(i in f.extraData)f.extraData.hasOwnProperty(i)&&(n.isPlainObject(f.extraData[i])&&f.extraData[i].hasOwnProperty("name")&&f.extraData[i].hasOwnProperty("value")?r.push(n('<input type="hidden" name="'+f.extraData[i].name+'">').val(f.extraData[i].value).appendTo(c)[0]):r.push(n('<input type="hidden" name="'+i+'">').val(f.extraData[i]).appendTo(c)[0]));f.iframeTarget||(a.appendTo("body"),l.attachEvent?l.attachEvent("onload",w):l.addEventListener("load",w,!1)),setTimeout(h,15);try{c.submit()}catch(y){v=document.createElement("form").submit,v.apply(c)}}finally{c.setAttribute("action",o),e?c.setAttribute("target",e):u.removeAttr("target"),n(r).remove()}}function w(i){var r,u,b,s,k,g,h,c,p;if(!e.aborted&&!ct){try{o=et(l)}catch(ut){t("cannot access response document: ",ut),i=nt}if(i===rt&&e){e.abort("timeout"),v.reject(e,"timeout");return}if(i==nt&&e){e.abort("server abort"),v.reject(e,"error","server abort");return}if(o&&o.location.href!=f.iframeSrc||it){l.detachEvent?l.detachEvent("onload",w):l.removeEventListener("load",w,!1),r="success";try{if(it)throw"timeout";if(b=f.dataType=="xml"||o.XMLDocument||n.isXMLDoc(o),t("isXml="+b),!b&&window.opera&&(o.body===null||!o.body.innerHTML)&&--ht){t("requeing onLoad callback, DOM not available"),setTimeout(w,250);return}s=o.body?o.body:o.documentElement,e.responseText=s?s.innerHTML:null,e.responseXML=o.XMLDocument?o.XMLDocument:o,b&&(f.dataType="xml"),e.getResponseHeader=function(n){var t={"content-type":f.dataType};return t[n]},s&&(e.status=Number(s.getAttribute("status"))||e.status,e.statusText=s.getAttribute("statusText")||e.statusText),k=(f.dataType||"").toLowerCase(),g=/(json|script|text)/.test(k),g||f.textarea?(h=o.getElementsByTagName("textarea")[0],h?(e.responseText=h.value,e.status=Number(h.getAttribute("status"))||e.status,e.statusText=h.getAttribute("statusText")||e.statusText):g&&(c=o.getElementsByTagName("pre")[0],p=o.getElementsByTagName("body")[0],c?e.responseText=c.textContent?c.textContent:c.innerText:p&&(e.responseText=p.textContent?p.textContent:p.innerText))):k=="xml"&&!e.responseXML&&e.responseText&&(e.responseXML=at(e.responseText));try{st=yt(e,k,f)}catch(tt){r="parsererror",e.error=u=tt||r}}catch(tt){t("error caught: ",tt),r="error",e.error=u=tt||r}e.aborted&&(t("upload aborted"),r=null),e.status&&(r=e.status>=200&&e.status<300||e.status===304?"success":"error"),r==="success"?(f.success&&f.success.call(f.context,st,"success",e),v.resolve(e.responseText,"success",e),y&&n.event.trigger("ajaxSuccess",[e,f])):r&&(u===undefined&&(u=e.statusText),f.error&&f.error.call(f.context,e,r,u),v.reject(e,"error",u),y&&n.event.trigger("ajaxError",[e,f,u])),y&&n.event.trigger("ajaxComplete",[e,f]),y&&!--n.active&&n.event.trigger("ajaxStop"),f.complete&&f.complete.call(f.context,e,r),ct=!0,f.timeout&&clearTimeout(d),setTimeout(function(){f.iframeTarget||a.remove(),e.responseXML=null},100)}}}var c=u[0],tt,g,f,y,k,a,l,e,b,p,it,d,lt=!!n.fn.prop,v=n.Deferred(),rt,nt,ut,ft,st,o,ht,ct;if(i)for(g=0;g<h.length;g++)tt=n(h[g]),lt?tt.prop("disabled",!1):tt.removeAttr("disabled");if(f=n.extend(!0,{},n.ajaxSettings,r),f.context=f.context||f,k="jqFormIO"+(new Date).getTime(),f.iframeTarget?(a=n(f.iframeTarget),p=a.attr("name"),p?k=p:a.attr("name",k)):(a=n('<iframe name="'+k+'" src="'+f.iframeSrc+'" />'),a.css({position:"absolute",top:"-1000px",left:"-1000px"})),l=a[0],e={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(i){var r=i==="timeout"?"timeout":"aborted";t("aborting upload... "+r),this.aborted=1;try{l.contentWindow.document.execCommand&&l.contentWindow.document.execCommand("Stop")}catch(u){}a.attr("src",f.iframeSrc),e.error=r,f.error&&f.error.call(f.context,e,r,i),y&&n.event.trigger("ajaxError",[e,f,r]),f.complete&&f.complete.call(f.context,e,r)}},y=f.global,y&&0==n.active++&&n.event.trigger("ajaxStart"),y&&n.event.trigger("ajaxSend",[e,f]),f.beforeSend&&f.beforeSend.call(f.context,e,f)===!1)return f.global&&n.active--,v.reject(),v;if(e.aborted)return v.reject(),v;b=c.clk,b&&(p=b.name,p&&!b.disabled&&(f.extraData=f.extraData||{},f.extraData[p]=b.value,b.type=="image"&&(f.extraData[p+".x"]=c.clk_x,f.extraData[p+".y"]=c.clk_y))),rt=1,nt=2,ut=n("meta[name=csrf-token]").attr("content"),ft=n("meta[name=csrf-param]").attr("content"),ft&&ut&&(f.extraData=f.extraData||{},f.extraData[ft]=ut),f.forceSync?ot():setTimeout(ot,10),ht=50;var at=n.parseXML||function(n,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(n)):t=(new DOMParser).parseFromString(n,"text/xml"),t&&t.documentElement&&t.documentElement.nodeName!="parsererror"?t:null},vt=n.parseJSON||function(s){return window.eval("("+s+")")},yt=function(t,i,r){var f=t.getResponseHeader("content-type")||"",e=i==="xml"||!i&&f.indexOf("xml")>=0,u=e?t.responseXML:t.responseText;return e&&u.documentElement.nodeName==="parsererror"&&n.error&&n.error("parsererror"),r&&r.dataFilter&&(u=r.dataFilter(u,i)),typeof u=="string"&&(i==="json"||!i&&f.indexOf("json")>=0?u=vt(u):(i==="script"||!i&&f.indexOf("javascript")>=0)&&n.globalEval(u)),u};return v}var s,w,f,u,l,a,h,v,e,c,o,k,tt,y,p;if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;if(u=this,typeof r=="function"&&(r={success:r}),s=this.attr("method"),w=this.attr("action"),f=typeof w=="string"?n.trim(w):"",f=f||window.location.href||"",f&&(f=(f.match(/^([^#]+)/)||[])[1]),r=n.extend(!0,{url:f,success:n.ajaxSettings.success,type:s||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},r),l={},this.trigger("form-pre-serialize",[this,r,l]),l.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(r.beforeSerialize&&r.beforeSerialize(this,r)===!1)return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;if(a=r.traditional,a===undefined&&(a=n.ajaxSettings.traditional),h=[],e=this.formToArray(r.semantic,h),r.data&&(r.extraData=r.data,v=n.param(r.data,a)),r.beforeSubmit&&r.beforeSubmit(e,this,r)===!1)return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[e,this,r,l]),l.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;c=n.param(e,a),v&&(c=c?c+"&"+v:v),r.type.toUpperCase()=="GET"?(r.url+=(r.url.indexOf("?")>=0?"&":"?")+c,r.data=null):r.data=c,o=[],r.resetForm&&o.push(function(){u.resetForm()}),r.clearForm&&o.push(function(){u.clearForm(r.includeHidden)}),!r.dataType&&r.target?(k=r.success||function(){},o.push(function(t){var i=r.replaceTarget?"replaceWith":"html";n(r.target)[i](t).each(k,arguments)})):r.success&&o.push(r.success),r.success=function(n,t,i){for(var s=r.context||this,f=0,e=o.length;f<e;f++)o[f].apply(s,[n,t,i||u,u])};var rt=n('input[type=file]:enabled[value!=""]',this),d=rt.length>0,g="multipart/form-data",nt=u.attr("enctype")==g||u.attr("encoding")==g,b=i.fileapi&&i.formdata;for(t("fileAPI :"+b),tt=(d||nt)&&!b,r.iframe!==!1&&(r.iframe||tt)?r.closeKeepAlive?n.get(r.closeKeepAlive,function(){y=it(e)}):y=it(e):y=(d||nt)&&b?ft(e):n.ajax(r),u.removeData("jqxhr").data("jqxhr",y),p=0;p<h.length;p++)h[p]=null;return this.trigger("form-submit-notify",[this,r]),this},n.fn.ajaxForm=function(i){if(i=i||{},i.delegation=i.delegation&&n.isFunction(n.fn.on),!i.delegation&&this.length===0){var f={s:this.selector,c:this.context};return!n.isReady&&f.s?(t("DOM not ready, queuing ajaxForm"),n(function(){n(f.s,f.c).ajaxForm(i)}),this):(t("terminating; zero elements found by selector"+(n.isReady?"":" (DOM not ready)")),this)}if(i.delegation){n(document).off("submit.form-plugin",this.selector,r).off("click.form-plugin",this.selector,u).on("submit.form-plugin",this.selector,i,r).on("click.form-plugin",this.selector,i,u);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",i,r).bind("click.form-plugin",i,u)},n.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},n.fn.formToArray=function(t,r){var o=[],e,c,l,s,f,h,u,p,w,a,y,v;if(this.length===0||(e=this[0],c=t?e.getElementsByTagName("*"):e.elements,!c))return o;for(l=0,p=c.length;l<p;l++)if(u=c[l],f=u.name,f){if(t&&e.clk&&u.type=="image"){u.disabled||e.clk!=u||(o.push({name:f,value:n(u).val(),type:u.type}),o.push({name:f+".x",value:e.clk_x},{name:f+".y",value:e.clk_y}));continue}if(h=n.fieldValue(u,!0),h&&h.constructor==Array)for(r&&r.push(u),s=0,w=h.length;s<w;s++)o.push({name:f,value:h[s]});else if(i.fileapi&&u.type=="file"&&!u.disabled)if(r&&r.push(u),a=u.files,a.length)for(s=0;s<a.length;s++)o.push({name:f,value:a[s],type:u.type});else o.push({name:f,value:"",type:u.type});else h!==null&&typeof h!="undefined"&&(r&&r.push(u),o.push({name:f,value:h,type:u.type,required:u.required}))}return!t&&e.clk&&(y=n(e.clk),v=y[0],f=v.name,f&&!v.disabled&&v.type=="image"&&(o.push({name:f,value:y.val()}),o.push({name:f+".x",value:e.clk_x},{name:f+".y",value:e.clk_y}))),o},n.fn.formSerialize=function(t){return n.param(this.formToArray(t))},n.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var f=this.name,r,u,e;if(f)if(r=n.fieldValue(this,t),r&&r.constructor==Array)for(u=0,e=r.length;u<e;u++)i.push({name:f,value:r[u]});else r!==null&&typeof r!="undefined"&&i.push({name:this.name,value:r})}),n.param(i)},n.fn.fieldValue=function(t){for(var f,i,r=[],u=0,e=this.length;u<e;u++)(f=this[u],i=n.fieldValue(f,t),i!==null&&typeof i!="undefined"&&(i.constructor!=Array||i.length))&&(i.constructor==Array?n.merge(r,i):r.push(i));return r},n.fieldValue=function(t,i){var a=t.name,u=t.type,h=t.tagName.toLowerCase(),e,o,r,f;if(i===undefined&&(i=!0),i&&(!a||t.disabled||u=="reset"||u=="button"||(u=="checkbox"||u=="radio")&&!t.checked||(u=="submit"||u=="image")&&t.form&&t.form.clk!=t||h=="select"&&t.selectedIndex==-1))return null;if(h=="select"){if(e=t.selectedIndex,e<0)return null;var c=[],l=t.options,s=u=="select-one",v=s?e+1:l.length;for(o=s?e:0;o<v;o++)if(r=l[o],r.selected){if(f=r.value,f||(f=r.attributes&&r.attributes.value&&!r.attributes.value.specified?r.text:r.value),s)return f;c.push(f)}return c}return n(t).val()},n.fn.clearForm=function(t){return this.each(function(){n("input,select,textarea",this).clearFields(t)})},n.fn.clearFields=n.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,u=this.tagName.toLowerCase();i.test(r)||u=="textarea"?this.value="":r=="checkbox"||r=="radio"?this.checked=!1:u=="select"?this.selectedIndex=-1:r=="file"?/MSIE/.test(navigator.userAgent)?n(this).replaceWith(n(this).clone()):n(this).val(""):t&&(t===!0&&/hidden/.test(r)||typeof t=="string"&&n(this).is(t))&&(this.value="")})},n.fn.resetForm=function(){return this.each(function(){typeof this.reset!="function"&&(typeof this.reset!="object"||this.reset.nodeType)||this.reset()})},n.fn.enable=function(n){return n===undefined&&(n=!0),this.each(function(){this.disabled=!n})},n.fn.selected=function(t){return t===undefined&&(t=!0),this.each(function(){var r=this.type,i;r=="checkbox"||r=="radio"?this.checked=t:this.tagName.toLowerCase()=="option"&&(i=n(this).parent("select"),t&&i[0]&&i[0].type=="select-one"&&i.find("option").selected(!1),this.selected=t)})},n.fn.ajaxSubmit.debug=!1})(jQuery);
//@ sourceMappingURL=jquery.form.min.js.map